
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="./">
      
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>The CtsUrn class - urn_citation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentation-for-the-ctsurn-class" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="urn_citation" class="md-header__button md-logo" aria-label="urn_citation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            urn_citation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The CtsUrn class
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="urn_citation" class="md-nav__button md-logo" aria-label="urn_citation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    urn_citation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API documentation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    The CtsUrn class
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    The CtsUrn class
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn" class="md-nav__link">
    <span class="md-ellipsis">
      
        CtsUrn
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CtsUrn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __str__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.is_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_range
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_equals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_begin" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_begin
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_end" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_end
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.valid_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        valid_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.validate_work_hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_work_hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_equals
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    The CtsUrn class
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    The CtsUrn class
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn" class="md-nav__link">
    <span class="md-ellipsis">
      
        CtsUrn
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CtsUrn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __str__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.is_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_range
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_equals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_begin" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_begin
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_end" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_end
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.valid_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        valid_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.validate_work_hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_work_hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_equals
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn" class="md-nav__link">
    <span class="md-ellipsis">
      
        CtsUrn
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CtsUrn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __str__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.drop_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        drop_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.has_subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.is_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_range
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.passage_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        passage_equals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_begin" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_begin
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.range_end" class="md-nav__link">
    <span class="md-ellipsis">
      
        range_end
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_exemplar" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_exemplar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_passage" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_passage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.set_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference1" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.subreference2" class="md-nav__link">
    <span class="md-ellipsis">
      
        subreference2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.valid_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        valid_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.validate_work_hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_work_hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_contains" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_contains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urn_citation.CtsUrn.work_equals" class="md-nav__link">
    <span class="md-ellipsis">
      
        work_equals
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="documentation-for-the-ctsurn-class">Documentation for the <code>CtsUrn</code> class</h1>


<div class="doc doc-object doc-class">



<h2 id="urn_citation.CtsUrn" class="doc doc-heading">
            <code>urn_citation.CtsUrn</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="urn_citation.Urn (urn_citation.urn.Urn)" href="../reference/#urn_citation.Urn">Urn</a></code></p>



        <p>A CTS URN identifying a passage of a canonically citable text.</p>
<p>Canonical Text Service (CTS) URNs model passages of texts with two overlapping hierarchies: a work hierarchy, and a passage hierarchy. Values in the work hierarchy belong to a specified namespace. The work hierarchy is required to identify at least a text group; optionally, it may specify a work, a version (edition or translation) of the work, and exemplar (specific copy of the version). The passage hierarchy may be empty, in which case the URN refers to the entire contents of the work identified in the work hierarchy. Otherwise, the passage hierarchy identifies a specific passage of the work, at any depth of the citation hierarchy appropriate for the work (e.g., book, chapter, verse, line, token.) The passage hierarchy may identify either a single passage or a range of passages.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.namespace">namespace</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Required identifier for the namespace of the text (e.g., "greekLit" or "latinLit") where values for the work hierarchy are defined.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.text_group">text_group</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Required identifier for text group.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.work">work</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional identifier for work.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.version">version</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional identifier for version (edition or translation) of the work.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.exemplar">exemplar</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional identifier for exemplar (specific copy of the version) of the work.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="urn_citation.CtsUrn.passage">passage</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional identifier for passage of the work, at any depth of the citation hierarchy appropriate for the work (e.g., book, chapter, verse, line, token). May identify either a single passage or a range of passages.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CtsUrn</span><span class="p">(</span><span class="n">Urn</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A CTS URN identifying a passage of a canonically citable text.</span>

<span class="sd">    Canonical Text Service (CTS) URNs model passages of texts with two overlapping hierarchies: a work hierarchy, and a passage hierarchy. Values in the work hierarchy belong to a specified namespace. The work hierarchy is required to identify at least a text group; optionally, it may specify a work, a version (edition or translation) of the work, and exemplar (specific copy of the version). The passage hierarchy may be empty, in which case the URN refers to the entire contents of the work identified in the work hierarchy. Otherwise, the passage hierarchy identifies a specific passage of the work, at any depth of the citation hierarchy appropriate for the work (e.g., book, chapter, verse, line, token.) The passage hierarchy may identify either a single passage or a range of passages.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        namespace (str): Required identifier for the namespace of the text (e.g., &quot;greekLit&quot; or &quot;latinLit&quot;) where values for the work hierarchy are defined.</span>
<span class="sd">        text_group (str): Required identifier for text group.</span>
<span class="sd">        work (str): Optional identifier for work.</span>
<span class="sd">        version (str): Optional identifier for version (edition or translation) of the work.</span>
<span class="sd">        exemplar (str): Optional identifier for exemplar (specific copy of the version) of the work.</span>
<span class="sd">        passage (str): Optional identifier for passage of the work, at any depth of the citation hierarchy appropriate for the work (e.g., book, chapter, verse, line, token). May identify either a single passage or a range of passages.</span>
<span class="sd">    &quot;&quot;&quot;</span>    
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">text_group</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">work</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">exemplar</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">passage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_work_hierarchy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the work hierarchy structure.</span>

<span class="sd">        Ensures that:</span>
<span class="sd">        - version cannot be set if work is None</span>
<span class="sd">        - exemplar cannot be set if version or work is None</span>
<span class="sd">        - passage component has at most one @ per range part</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the hierarchy constraints are violated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;version cannot be set when work is None&quot;</span><span class="p">)</span>

        <span class="c1"># Check work before version for exemplar (check hierarchy from root to leaf)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;exemplar cannot be set when work is None&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;exemplar cannot be set when version is None&quot;</span><span class="p">)</span>

        <span class="c1"># Validate subreferences in passage component</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">range_parts</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Each passage component can have at most one @ delimiter for subreference, found </span><span class="si">{</span><span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                <span class="c1"># Check for empty subreferences</span>
                <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">part</span><span class="p">:</span>
                    <span class="n">subref_parts</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subref_parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">subref_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subreference cannot be empty, found empty subreference in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">):</span>
        <span class="c1"># 1. Split the string into a list of values</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">raw_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Bad.&quot;</span><span class="p">)</span>
        <span class="n">header</span><span class="p">,</span> <span class="n">urn_type</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">work_component</span><span class="p">,</span> <span class="n">passage_component</span> <span class="o">=</span> <span class="n">parts</span>

        <span class="n">rangeparts</span> <span class="o">=</span> <span class="n">passage_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rangeparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Passage component of CTS URN cannot have more than one hyphen to indicate a range, found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rangeparts</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2"> hyphenated parts in </span><span class="si">{</span><span class="n">passage_component</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="c1"># Validate subreferences (at most one @ per range part)</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">rangeparts</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Each passage component can have at most one @ delimiter for subreference, found </span><span class="si">{</span><span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="c1"># Check for empty subreferences</span>
            <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">part</span><span class="p">:</span>
                <span class="n">subref_parts</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subref_parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">subref_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subreference cannot be empty, found empty subreference in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">work_component</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work component of CTS URN cannot contain successive periods, found in </span><span class="si">{</span><span class="n">work_component</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">passage_component</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Passage component of CTS URN cannot contain successive periods, found in </span><span class="si">{</span><span class="n">passage_component</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="n">workparts</span> <span class="o">=</span> <span class="n">work_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">workparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work component of CTS URN cannot have more than 4 dot-delimited components, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">workparts</span><span class="p">)</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">work_component</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="n">groupid</span><span class="p">,</span> <span class="n">workid</span><span class="p">,</span> <span class="n">versionid</span><span class="p">,</span> <span class="n">exemplarid</span> <span class="o">=</span>         <span class="p">(</span><span class="n">workparts</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)[:</span><span class="mi">4</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">passage_component</span><span class="p">:</span>
            <span class="n">passage_component</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="n">groupid</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="n">workid</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">versionid</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="n">exemplarid</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="n">passage_component</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize the CtsUrn to its string representation.</span>

<span class="sd">        Returns a CTS URN string in the format:</span>
<span class="sd">        urn:cts:namespace:work.hierarchy:passage</span>

<span class="sd">        Where work.hierarchy is constructed from the text_group, work, version, and exemplar,</span>
<span class="sd">        and passage is the passage component (or empty string if None).</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The serialized CTS URN string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Build the work component from the work hierarchy</span>
        <span class="n">work_parts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">)</span>

        <span class="n">work_component</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">work_parts</span><span class="p">)</span>

        <span class="c1"># Build the passage component (empty string if None)</span>
        <span class="n">passage_component</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Construct the full URN string</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;urn:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">work_component</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">passage_component</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_range</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the passage component represents a range.</span>

<span class="sd">        A passage is a range if it contains exactly one hyphen, indicating both</span>
<span class="sd">        a range beginning and range end separated by that hyphen.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the passage is a range, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">range_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the passage component has a subreference.</span>

<span class="sd">        A passage has a subreference if it contains at least one @ character,</span>
<span class="sd">        which may appear on either or both parts of a range reference, or on</span>
<span class="sd">        a single reference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the passage contains a subreference (@ character), False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_subreference1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the range begin part has a subreference.</span>

<span class="sd">        Returns True if the URN is a range and the range begin part contains</span>
<span class="sd">        a @ character indicating a subreference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the range begin part has a subreference, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URN is not a range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;has_subreference1 can only be called on range URNs&quot;</span><span class="p">)</span>

        <span class="n">range_begin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_begin</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">range_begin</span> <span class="k">if</span> <span class="n">range_begin</span> <span class="k">else</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_subreference2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the range end part has a subreference.</span>

<span class="sd">        Returns True if the URN is a range and the range end part contains</span>
<span class="sd">        a @ character indicating a subreference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the range end part has a subreference, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URN is not a range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;has_subreference2 can only be called on range URNs&quot;</span><span class="p">)</span>

        <span class="n">range_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_end</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">range_end</span> <span class="k">if</span> <span class="n">range_end</span> <span class="k">else</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the subreference part of a passage reference.</span>

<span class="sd">        Returns the subreference part (the text after @) if the passage has a subreference.</span>
<span class="sd">        Returns None if the passage has no subreference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: The subreference part, or None if no subreference exists.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URN is a range reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference can only be called on non-range URNs&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">subreference1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the subreference part of the range begin reference.</span>

<span class="sd">        Returns the subreference part (the text after @) of the range begin part</span>
<span class="sd">        if it has a subreference. Returns None if the range begin part has no subreference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: The subreference part of the range begin, or None if no subreference exists.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URN is not a range reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference1 can only be called on range URNs&quot;</span><span class="p">)</span>

        <span class="n">range_begin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_begin</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">range_begin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">range_begin</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">parts</span> <span class="o">=</span> <span class="n">range_begin</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">subreference2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the subreference part of the range end reference.</span>

<span class="sd">        Returns the subreference part (the text after @) of the range end part</span>
<span class="sd">        if it has a subreference. Returns None if the range end part has no subreference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: The subreference part of the range end, or None if no subreference exists.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URN is not a range reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference2 can only be called on range URNs&quot;</span><span class="p">)</span>

        <span class="n">range_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_end</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">range_end</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">range_end</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">parts</span> <span class="o">=</span> <span class="n">range_end</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">range_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the beginning of a passage range.</span>

<span class="sd">        Returns the first range piece if the passage component represents a range</span>
<span class="sd">        (i.e., contains exactly one hyphen). Returns None if the passage is not</span>
<span class="sd">        a range or if passage is None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: The beginning of the range, or None if not a range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">range_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">range_end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the end of a passage range.</span>

<span class="sd">        Returns the second range piece if the passage component represents a range</span>
<span class="sd">        (i.e., contains exactly one hyphen). Returns None if the passage is not</span>
<span class="sd">        a range or if passage is None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: The end of the range, or None if not a range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">range_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">valid_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a string is valid for constructing a CtsUrn.</span>

<span class="sd">        A valid CTS URN string must:</span>
<span class="sd">        - Split into exactly 5 colon-delimited components</span>
<span class="sd">        - Have a passage component with at most 1 hyphen (for ranges)</span>
<span class="sd">        - Have a work component with at most 4 dot-delimited parts</span>

<span class="sd">        Args:</span>
<span class="sd">            raw_string (str): The string to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the string is valid, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">raw_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="n">header</span><span class="p">,</span> <span class="n">urn_type</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">work_component</span><span class="p">,</span> <span class="n">passage_component</span> <span class="o">=</span> <span class="n">parts</span>

            <span class="c1"># Check passage component (at most 1 hyphen)</span>
            <span class="n">rangeparts</span> <span class="o">=</span> <span class="n">passage_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rangeparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Check for successive periods in work and passage components</span>
            <span class="k">if</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">work_component</span> <span class="ow">or</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">passage_component</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Check work component (at most 4 dot-delimited parts)</span>
            <span class="n">workparts</span> <span class="o">=</span> <span class="n">work_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">workparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">work_equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the work hierarchy is equal to another CtsUrn.</span>

<span class="sd">        Compares the text_group, work, version, and exemplar fields.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if all work hierarchy fields are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">text_group</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">work</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">exemplar</span>
        <span class="p">)</span>


    <span class="c1"># rewrite this using a more elegant `getattr` approach, and also add a docstring</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">work_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the work hierarchy contains another CtsUrn.</span>

<span class="sd">        Returns True if all non-None values of text_group, work, version, and exemplar</span>
<span class="sd">        in this CtsUrn equal the corresponding values in the other CtsUrn.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if all non-None work hierarchy fields match, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">text_group</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">work</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">exemplar</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">passage_equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the passage component is equal to another CtsUrn.</span>

<span class="sd">        Compares the passage field of this CtsUrn with the passage field of another.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the passage fields are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">passage_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the passage component contains another CtsUrn.</span>

<span class="sd">        Returns True if:</span>
<span class="sd">        - The passages are exactly equal, OR</span>
<span class="sd">        - The other passage is at least 2 characters longer and starts with </span>
<span class="sd">          this passage followed by a period character.</span>

<span class="sd">        Raises ValueError if either passage is a range.</span>

<span class="sd">        Examples:</span>
<span class="sd">        - passage=&quot;1&quot;, other.passage=&quot;1.11&quot; -&gt; True</span>
<span class="sd">        - passage=&quot;1&quot;, other.passage=&quot;12&quot; -&gt; False</span>

<span class="sd">        Args:</span>
<span class="sd">            other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the passages match the similarity criteria, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If either passage is a range (contains a hyphen).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;passage_contains cannot be called on a CtsUrn with a range passage&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;passage_contains cannot be called with a CtsUrn argument that has a range passage&quot;</span><span class="p">)</span>

        <span class="c1"># Check exact equality</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Check if other passage is a refinement of this passage</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expected_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span>
                <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">expected_prefix</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if this CtsUrn contains another CtsUrn.</span>

<span class="sd">        Returns True if both the work hierarchy and passage contain the other.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if both work_contains and passage_contains are True, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">work_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">drop_passage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the passage component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the passage set to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance without the passage component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_passage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_passage</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified passage component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the passage set to the provided new_passage value.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_passage (str | None): The new passage component to set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance with the updated passage component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="n">new_passage</span>
        <span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">drop_subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with all subreferences removed.</span>

<span class="sd">        Returns a new CtsUrn instance with subreferences (text after @) removed</span>
<span class="sd">        from the passage component. Works on both single passages and ranges.</span>
<span class="sd">        If there are no subreferences, returns a new instance with the same passage.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance without subreferences in the passage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
            <span class="c1"># No subreference to drop, return copy with same passage</span>
            <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
                <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
                <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
                <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
                <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
            <span class="p">)</span>

        <span class="c1"># Remove subreferences from passage</span>
        <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="n">cleaned_parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">range_parts</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">part</span><span class="p">:</span>
                <span class="c1"># Keep only the part before @</span>
                <span class="n">cleaned_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cleaned_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>

        <span class="n">new_passage</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cleaned_parts</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="n">new_passage</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">drop_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the version component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the version set to None. Note: exemplar will also be set to None</span>
<span class="sd">        since exemplar cannot exist without a version.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance without the version component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># Must also drop exemplar since it requires version</span>
            <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
        <span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">set_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified version component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the version set to the provided new_version value.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_version (str | None): The new version component to set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance with the updated version component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">new_version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">drop_exemplar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the exemplar component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the exemplar set to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance without the exemplar component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_exemplar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_exemplar</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified exemplar component.</span>

<span class="sd">        Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">        with the exemplar set to the provided new_exemplar value.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_exemplar (str | None): The new exemplar component to set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CtsUrn: A new CtsUrn instance with the updated exemplar component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="n">new_exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the CtsUrn to its string representation.</p>
<p>Returns a CTS URN string in the format:
urn:cts:namespace:work.hierarchy:passage</p>
<p>Where work.hierarchy is constructed from the text_group, work, version, and exemplar,
and passage is the passage component (or empty string if None).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The serialized CTS URN string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize the CtsUrn to its string representation.</span>

<span class="sd">    Returns a CTS URN string in the format:</span>
<span class="sd">    urn:cts:namespace:work.hierarchy:passage</span>

<span class="sd">    Where work.hierarchy is constructed from the text_group, work, version, and exemplar,</span>
<span class="sd">    and passage is the passage component (or empty string if None).</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The serialized CTS URN string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Build the work component from the work hierarchy</span>
    <span class="n">work_parts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">work_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">)</span>

    <span class="n">work_component</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">work_parts</span><span class="p">)</span>

    <span class="c1"># Build the passage component (empty string if None)</span>
    <span class="n">passage_component</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Construct the full URN string</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;urn:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">work_component</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">passage_component</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.contains" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if this CtsUrn contains another CtsUrn.</p>
<p>Returns True if both the work hierarchy and passage contain the other.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CtsUrn to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if both work_contains and passage_contains are True, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if this CtsUrn contains another CtsUrn.</span>

<span class="sd">    Returns True if both the work hierarchy and passage contain the other.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if both work_contains and passage_contains are True, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">work_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.drop_exemplar" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_exemplar</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn without the exemplar component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the exemplar set to None.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance without the exemplar component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">drop_exemplar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the exemplar component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the exemplar set to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance without the exemplar component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.drop_passage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_passage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn without the passage component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the passage set to None.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance without the passage component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">drop_passage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the passage component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the passage set to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance without the passage component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.drop_subreference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_subreference</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn with all subreferences removed.</p>
<p>Returns a new CtsUrn instance with subreferences (text after @) removed
from the passage component. Works on both single passages and ranges.
If there are no subreferences, returns a new instance with the same passage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance without subreferences in the passage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">drop_subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with all subreferences removed.</span>

<span class="sd">    Returns a new CtsUrn instance with subreferences (text after @) removed</span>
<span class="sd">    from the passage component. Works on both single passages and ranges.</span>
<span class="sd">    If there are no subreferences, returns a new instance with the same passage.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance without subreferences in the passage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
        <span class="c1"># No subreference to drop, return copy with same passage</span>
        <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
            <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
            <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
            <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
        <span class="p">)</span>

    <span class="c1"># Remove subreferences from passage</span>
    <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="n">cleaned_parts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">range_parts</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">part</span><span class="p">:</span>
            <span class="c1"># Keep only the part before @</span>
            <span class="n">cleaned_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cleaned_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>

    <span class="n">new_passage</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cleaned_parts</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="n">new_passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.drop_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_version</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn without the version component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the version set to None. Note: exemplar will also be set to None
since exemplar cannot exist without a version.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance without the version component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">drop_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn without the version component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the version set to None. Note: exemplar will also be set to None</span>
<span class="sd">    since exemplar cannot exist without a version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance without the version component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># Must also drop exemplar since it requires version</span>
        <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.has_subreference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_subreference</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the passage component has a subreference.</p>
<p>A passage has a subreference if it contains at least one @ character,
which may appear on either or both parts of a range reference, or on
a single reference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the passage contains a subreference (@ character), False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the passage component has a subreference.</span>

<span class="sd">    A passage has a subreference if it contains at least one @ character,</span>
<span class="sd">    which may appear on either or both parts of a range reference, or on</span>
<span class="sd">    a single reference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the passage contains a subreference (@ character), False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.has_subreference1" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_subreference1</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the range begin part has a subreference.</p>
<p>Returns True if the URN is a range and the range begin part contains
a @ character indicating a subreference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the range begin part has a subreference, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the URN is not a range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_subreference1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the range begin part has a subreference.</span>

<span class="sd">    Returns True if the URN is a range and the range begin part contains</span>
<span class="sd">    a @ character indicating a subreference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the range begin part has a subreference, False otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URN is not a range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;has_subreference1 can only be called on range URNs&quot;</span><span class="p">)</span>

    <span class="n">range_begin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_begin</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">range_begin</span> <span class="k">if</span> <span class="n">range_begin</span> <span class="k">else</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.has_subreference2" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_subreference2</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the range end part has a subreference.</p>
<p>Returns True if the URN is a range and the range end part contains
a @ character indicating a subreference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the range end part has a subreference, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the URN is not a range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_subreference2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the range end part has a subreference.</span>

<span class="sd">    Returns True if the URN is a range and the range end part contains</span>
<span class="sd">    a @ character indicating a subreference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the range end part has a subreference, False otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URN is not a range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;has_subreference2 can only be called on range URNs&quot;</span><span class="p">)</span>

    <span class="n">range_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_end</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">range_end</span> <span class="k">if</span> <span class="n">range_end</span> <span class="k">else</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.is_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_range</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the passage component represents a range.</p>
<p>A passage is a range if it contains exactly one hyphen, indicating both
a range beginning and range end separated by that hyphen.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the passage is a range, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_range</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the passage component represents a range.</span>

<span class="sd">    A passage is a range if it contains exactly one hyphen, indicating both</span>
<span class="sd">    a range beginning and range end separated by that hyphen.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the passage is a range, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">range_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.passage_contains" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">passage_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the passage component contains another CtsUrn.</p>
<p>Returns True if:
- The passages are exactly equal, OR
- The other passage is at least 2 characters longer and starts with 
  this passage followed by a period character.</p>
<p>Raises ValueError if either passage is a range.</p>
<p>Examples:
- passage="1", other.passage="1.11" -&gt; True
- passage="1", other.passage="12" -&gt; False</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CtsUrn to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the passages match the similarity criteria, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If either passage is a range (contains a hyphen).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">passage_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the passage component contains another CtsUrn.</span>

<span class="sd">    Returns True if:</span>
<span class="sd">    - The passages are exactly equal, OR</span>
<span class="sd">    - The other passage is at least 2 characters longer and starts with </span>
<span class="sd">      this passage followed by a period character.</span>

<span class="sd">    Raises ValueError if either passage is a range.</span>

<span class="sd">    Examples:</span>
<span class="sd">    - passage=&quot;1&quot;, other.passage=&quot;1.11&quot; -&gt; True</span>
<span class="sd">    - passage=&quot;1&quot;, other.passage=&quot;12&quot; -&gt; False</span>

<span class="sd">    Args:</span>
<span class="sd">        other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the passages match the similarity criteria, False otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If either passage is a range (contains a hyphen).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;passage_contains cannot be called on a CtsUrn with a range passage&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;passage_contains cannot be called with a CtsUrn argument that has a range passage&quot;</span><span class="p">)</span>

    <span class="c1"># Check exact equality</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Check if other passage is a refinement of this passage</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expected_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span>
            <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">expected_prefix</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.passage_equals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">passage_equals</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the passage component is equal to another CtsUrn.</p>
<p>Compares the passage field of this CtsUrn with the passage field of another.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CtsUrn to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the passage fields are equal, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">passage_equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the passage component is equal to another CtsUrn.</span>

<span class="sd">    Compares the passage field of this CtsUrn with the passage field of another.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the passage fields are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">passage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.range_begin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">range_begin</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the beginning of a passage range.</p>
<p>Returns the first range piece if the passage component represents a range
(i.e., contains exactly one hyphen). Returns None if the passage is not
a range or if passage is None.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: The beginning of the range, or None if not a range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">range_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the beginning of a passage range.</span>

<span class="sd">    Returns the first range piece if the passage component represents a range</span>
<span class="sd">    (i.e., contains exactly one hyphen). Returns None if the passage is not</span>
<span class="sd">    a range or if passage is None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: The beginning of the range, or None if not a range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">range_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.range_end" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">range_end</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the end of a passage range.</p>
<p>Returns the second range piece if the passage component represents a range
(i.e., contains exactly one hyphen). Returns None if the passage is not
a range or if passage is None.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: The end of the range, or None if not a range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">range_end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the end of a passage range.</span>

<span class="sd">    Returns the second range piece if the passage component represents a range</span>
<span class="sd">    (i.e., contains exactly one hyphen). Returns None if the passage is not</span>
<span class="sd">    a range or if passage is None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: The end of the range, or None if not a range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">range_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.set_exemplar" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_exemplar</span><span class="p">(</span><span class="n">new_exemplar</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn with a specified exemplar component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the exemplar set to the provided new_exemplar value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_exemplar</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new exemplar component to set.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance with the updated exemplar component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_exemplar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_exemplar</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified exemplar component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the exemplar set to the provided new_exemplar value.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_exemplar (str | None): The new exemplar component to set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance with the updated exemplar component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="n">new_exemplar</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.set_passage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_passage</span><span class="p">(</span><span class="n">new_passage</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn with a specified passage component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the passage set to the provided new_passage value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_passage</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new passage component to set.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance with the updated passage component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_passage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_passage</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified passage component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the passage set to the provided new_passage value.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_passage (str | None): The new passage component to set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance with the updated passage component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="n">new_passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.set_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_version</span><span class="p">(</span><span class="n">new_version</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new CtsUrn with a specified version component.</p>
<p>Returns a new CtsUrn instance with the same work hierarchy but
with the version set to the provided new_version value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_version</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new version component to set.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CtsUrn</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CtsUrn instance with the updated version component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CtsUrn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new CtsUrn with a specified version component.</span>

<span class="sd">    Returns a new CtsUrn instance with the same work hierarchy but</span>
<span class="sd">    with the version set to the provided new_version value.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_version (str | None): The new version component to set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CtsUrn: A new CtsUrn instance with the updated version component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CtsUrn</span><span class="p">(</span>
        <span class="n">urn_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">urn_type</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">text_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_group</span><span class="p">,</span>
        <span class="n">work</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">new_version</span><span class="p">,</span>
        <span class="n">exemplar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span><span class="p">,</span>
        <span class="n">passage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">passage</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.subreference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subreference</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the subreference part of a passage reference.</p>
<p>Returns the subreference part (the text after @) if the passage has a subreference.
Returns None if the passage has no subreference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: The subreference part, or None if no subreference exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the URN is a range reference.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">subreference</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the subreference part of a passage reference.</span>

<span class="sd">    Returns the subreference part (the text after @) if the passage has a subreference.</span>
<span class="sd">    Returns None if the passage has no subreference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: The subreference part, or None if no subreference exists.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URN is a range reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference can only be called on non-range URNs&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.subreference1" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subreference1</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the subreference part of the range begin reference.</p>
<p>Returns the subreference part (the text after @) of the range begin part
if it has a subreference. Returns None if the range begin part has no subreference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: The subreference part of the range begin, or None if no subreference exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the URN is not a range reference.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">subreference1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the subreference part of the range begin reference.</span>

<span class="sd">    Returns the subreference part (the text after @) of the range begin part</span>
<span class="sd">    if it has a subreference. Returns None if the range begin part has no subreference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: The subreference part of the range begin, or None if no subreference exists.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URN is not a range reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference1 can only be called on range URNs&quot;</span><span class="p">)</span>

    <span class="n">range_begin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_begin</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">range_begin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">range_begin</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">parts</span> <span class="o">=</span> <span class="n">range_begin</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.subreference2" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subreference2</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the subreference part of the range end reference.</p>
<p>Returns the subreference part (the text after @) of the range end part
if it has a subreference. Returns None if the range end part has no subreference.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: The subreference part of the range end, or None if no subreference exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the URN is not a range reference.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">subreference2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the subreference part of the range end reference.</span>

<span class="sd">    Returns the subreference part (the text after @) of the range end part</span>
<span class="sd">    if it has a subreference. Returns None if the range end part has no subreference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: The subreference part of the range end, or None if no subreference exists.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URN is not a range reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_range</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;subreference2 can only be called on range URNs&quot;</span><span class="p">)</span>

    <span class="n">range_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_end</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">range_end</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">range_end</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">parts</span> <span class="o">=</span> <span class="n">range_end</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.valid_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">valid_string</span><span class="p">(</span><span class="n">raw_string</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if a string is valid for constructing a CtsUrn.</p>
<p>A valid CTS URN string must:
- Split into exactly 5 colon-delimited components
- Have a passage component with at most 1 hyphen (for ranges)
- Have a work component with at most 4 dot-delimited parts</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>raw_string</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the string is valid, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a string is valid for constructing a CtsUrn.</span>

<span class="sd">    A valid CTS URN string must:</span>
<span class="sd">    - Split into exactly 5 colon-delimited components</span>
<span class="sd">    - Have a passage component with at most 1 hyphen (for ranges)</span>
<span class="sd">    - Have a work component with at most 4 dot-delimited parts</span>

<span class="sd">    Args:</span>
<span class="sd">        raw_string (str): The string to validate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the string is valid, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">raw_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">header</span><span class="p">,</span> <span class="n">urn_type</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">work_component</span><span class="p">,</span> <span class="n">passage_component</span> <span class="o">=</span> <span class="n">parts</span>

        <span class="c1"># Check passage component (at most 1 hyphen)</span>
        <span class="n">rangeparts</span> <span class="o">=</span> <span class="n">passage_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rangeparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Check for successive periods in work and passage components</span>
        <span class="k">if</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">work_component</span> <span class="ow">or</span> <span class="s2">&quot;..&quot;</span> <span class="ow">in</span> <span class="n">passage_component</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Check work component (at most 4 dot-delimited parts)</span>
        <span class="n">workparts</span> <span class="o">=</span> <span class="n">work_component</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">workparts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.validate_work_hierarchy" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_work_hierarchy</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Validate the work hierarchy structure.</p>
<p>Ensures that:
- version cannot be set if work is None
- exemplar cannot be set if version or work is None
- passage component has at most one @ per range part</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the hierarchy constraints are violated.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_work_hierarchy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate the work hierarchy structure.</span>

<span class="sd">    Ensures that:</span>
<span class="sd">    - version cannot be set if work is None</span>
<span class="sd">    - exemplar cannot be set if version or work is None</span>
<span class="sd">    - passage component has at most one @ per range part</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the hierarchy constraints are violated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;version cannot be set when work is None&quot;</span><span class="p">)</span>

    <span class="c1"># Check work before version for exemplar (check hierarchy from root to leaf)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;exemplar cannot be set when work is None&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;exemplar cannot be set when version is None&quot;</span><span class="p">)</span>

    <span class="c1"># Validate subreferences in passage component</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">range_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">passage</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">range_parts</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Each passage component can have at most one @ delimiter for subreference, found </span><span class="si">{</span><span class="n">part</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="c1"># Check for empty subreferences</span>
            <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">part</span><span class="p">:</span>
                <span class="n">subref_parts</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subref_parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">subref_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subreference cannot be empty, found empty subreference in &#39;</span><span class="si">{</span><span class="n">part</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.work_contains" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">work_contains</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the work hierarchy contains another CtsUrn.</p>
<p>Returns True if all non-None values of text_group, work, version, and exemplar
in this CtsUrn equal the corresponding values in the other CtsUrn.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CtsUrn to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if all non-None work hierarchy fields match, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">work_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the work hierarchy contains another CtsUrn.</span>

<span class="sd">    Returns True if all non-None values of text_group, work, version, and exemplar</span>
<span class="sd">    in this CtsUrn equal the corresponding values in the other CtsUrn.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if all non-None work hierarchy fields match, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">text_group</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">work</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">exemplar</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="urn_citation.CtsUrn.work_equals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">work_equals</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the work hierarchy is equal to another CtsUrn.</p>
<p>Compares the text_group, work, version, and exemplar fields.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="urn_citation.CtsUrn (urn_citation.ctsurn.CtsUrn)" href="#urn_citation.CtsUrn">CtsUrn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CtsUrn to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if all work hierarchy fields are equal, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/urn_citation/ctsurn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">work_equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">CtsUrn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the work hierarchy is equal to another CtsUrn.</span>

<span class="sd">    Compares the text_group, work, version, and exemplar fields.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (CtsUrn): The CtsUrn to compare with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if all work hierarchy fields are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_group</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">text_group</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">work</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">exemplar</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">exemplar</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>